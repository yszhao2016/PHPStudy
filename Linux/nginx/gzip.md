Nginx的gzip压缩的原理和设置参数

    开启Nginx gzip压缩非常简单，达到的效果可以压缩静态文件大小、
    提高页面访问速度、节省流量和带宽是很有帮助的，
    也为用户省去了很多流量；唯一的不足就是开启之后服务器这边会增加运算，
    进行压缩运算处理，就比如压缩级别，服务器cpu会有开销。

原理举例

    比如一个css文件，里面肯定有很多font-size、换行、字体等标签和内容，这种重复的内容会很多，
    压缩的时候它会对重复的字符串进行扫描，它会把这些重复的统计出来，统计出来会排序，排序之后会定义一个词表，
    词表是用来做替换的，就本来比如一个十个字符长度的字符串，它会用两个长度的字符替换，这样就变成了原来的五分之一，
    其他的也是一样，比如文件里有大量大段的重复内容，这样压缩效果会更明显。这样简单的替换就实现了压缩。
    越是重复的内容越多，压缩的效率越高，相反，效率越低。


配置参数

    server {
      listen 80; //监听端口
       server_name localohst; //监听域名
       gzip on;  //开启gzip压缩
       gzip_min_length 1k; //最小的长度，1K，文件如果太小，小于1K，就不会压缩,因为没准压缩之后还要变大
       gzip_buffers 4 16k;    //设置缓存的单位，压缩的时候要分配的缓冲区，缓冲区以16K为单位，往缓冲区写入内容的时候超过16K的时候，那么就会按照4倍的大小创建新的缓冲区，也就是建立一个64K的存储，这样把压缩的内容倒进去
       gzip_comp_level 6;   //压缩级别1-9，比如level为1的话，压缩的比例比较低，但是效率比较高，比如100K的文件压缩之后还剩40K或者50K，但是处理的时间很短；如果level为9的话，压缩的效果最好，效率会低一点，比如还是100K的文件，压缩的会更小，甚至20K ，这样对cpu消耗会高点，一般设置中间差不多
       gzip_type text/plain application/javascript text/css application/xml;  //定义了压缩的类型，比如文本的，js、css等文本文件压缩，像是图片啊，就没必要定义了，本身就支持，这里就不需要定义了，默认压缩text/html 不需要指定，否则报错
       location / {
         root /var/www/a.com; //根目录定位
         index index.html;
       }
    }